################################################################################
Встроенные функции для использования в контрактах
################################################################################

Ниже перечислены готовые функции, которые можно использовать в контрактах. При генерации ошибки в любой из функции, контракт также прекратит свою работу и возвратит данную ошибку. Поэтому функции не возвращают ошибок, так как все

**CallContract(name string, params map)**

Данная функция вызывает указанный контракт. В массиве с параметрами должны быть перечислены все поля, которые указаны в **data** у контракта.

* *name* - имя вызываемого контракта.
* *params* - ассоциативный массив с входящими параметрами для контракта.

.. code:: js

    var par map
    par["Name"] = "My Name"
    CallContract("MyContract", par)


**DBInsert(tblname string, params string, val ...) int**

Функция вставляет запись в указанную таблицу. Функция возвращает **id**  вставленной записи.

* *tblname* - имя таблицы в базе данных.
* *params* - имена колонок, в которые будут записаны указанные далее значения. Перечисляются через запятую.
* *val* - значения для указанных столбцов в параметре *params*. Могут иметь строковый или числовой тип.

.. code:: js

    DBInsert(Table("mytable"), "name,amount", "John Dow", 100)
 
 
**DBUpdate(tblname string, id int, params string, val...)**
 
Функция обновляет указанные столбцы в таблице в записи с данным **id**.
 
* *tblname* - имя таблицы в базе данных.
* *id* - идентификатор id изменяемой записи.
* *params* - имена колонок, в которые будут записаны указанные далее значения. Перечисляются через запятую.
* *val* - значения для указанных столбцов в параметре *params*. Могут иметь строковый или числовой тип.

.. code:: js

    DBUpdate(Table("mytable"), myid, "name,amount", "John Dow", 100)
 
**DBUpdateWhere(tblname string, column string, value (int|string), params string, val ...)**

Функция обновляет указанные столбцы в таблице в записи, у которой определенная колонка имеет данной значение. Таблица должна иметь индекс по указанному столбцу.
 
* *tblname* - имя таблицы в базе данных.
* *column* - имя столбца, по которой будет идти поиск записи.
* *value* - значение для поиска записи по значению в столбце.
* *params* - имена колонок, в которые будут записаны указанные далее значения. Перечисляются через запятую.
* *val* - значения для указанных столбцов в параметре *params*. Могут иметь строковый или числовой тип.

.. code:: js

    DBUpdateWhere(Table("mytable"), "address", addr, "name,amount", "John Dow", 100)


